{% extends 'admin/base.html.twig' %}

{% block stylesheets %}
<link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-fileinput@5.2.7/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
{{ parent() }}

{% endblock %}
{% block body %}

<section class="container">
			{% include 'admin/components/admin-header.html.twig' with {'heading' : 'Add product'} %}
		<div class="row mt-2">
			<div class="col-12 col-md-6">
			{{ form_start(productForm) }}
			{{ form_row(productForm.brand) }}
			{{ form_row(productForm.model) }}
			{{ form_row(productForm.price) }}
			{{ form_row(productForm.category) }}
			{{ form_row(productForm.images) }}
			<img id="image-preview" src="" />
			
			{{ form_end(productForm) }}
			</div>
		</div >
</section>

{% endblock %}
{% block javascripts %}
	{{ parent() }}
	 <script>
	  document.addEventListener('DOMContentLoaded', function() {
        const fileInput = document.getElementById('product_images');
        const imagePreview = document.getElementById('image-preview');
        fileInput.addEventListener('change', () => {
            imagePreview.src = window.URL.createObjectURL(fileInput.files[0])
        });
	  })
    </script>
	{% endblock %}
